(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{351:function(t,a,s){"use strict";s.r(a);var n=s(40),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"派驻v1-2概要设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#派驻v1-2概要设计"}},[t._v("#")]),t._v(" "),s("strong",[t._v("派驻v1.2概要设计")])]),t._v(" "),s("blockquote",[s("p",[t._v("author : 孙文浩")])]),t._v(" "),s("blockquote",[s("p",[t._v("version : v1.2")])]),t._v(" "),s("blockquote",[s("p",[t._v("date : 2020-4-26")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#1.%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"}},[t._v("1.需求分析")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2.%E6%80%BB%E4%BD%93%E8%AE%BE%E8%AE%A1"}},[t._v("2.总体设计")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#2.1.%E8%AE%BE%E8%AE%A1%E6%B8%85%E5%8D%95"}},[t._v("2.1.设计清单")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#2.1.1.%E8%B0%88%E8%AF%9D%E7%BA%BF%E7%B4%A2%E5%90%88%E5%B9%B6"}},[t._v("2.1.1.谈话线索合并")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2.1.2.%E5%8A%9E%E7%90%86%E4%B8%AD%E8%BD%AC%E5%8A%9E%EF%BC%88%E9%A2%84%E7%95%99%EF%BC%89"}},[t._v("2.1.2.办理中转办（预留）")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2.1.3.%E5%8F%98%E6%9B%B4%E5%A4%84%E7%BD%AE%E6%96%B9%E5%BC%8F%EF%BC%88%E9%A2%84%E7%95%99%EF%BC%89"}},[t._v("2.1.3.变更处置方式（预留）")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2.2.%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1"}},[t._v("2.2.功能设计")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#3.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"}},[t._v("3.数据库设计")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#3.1.DDL"}},[t._v("3.1.DDL")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#3.1.1.public.t_zhba_xshb"}},[t._v("3.1.1.public.t_zhba_xshb")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#3.2.DML"}},[t._v("3.2.DML")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#3.2.1.public.t_zhba_wtxs"}},[t._v("3.2.1.public.t_zhba_wtxs")])])])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#4.%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1"}},[t._v("4.接口设计")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#4.1.%E6%9F%A5%E8%AF%A2%E6%9F%A5%E6%8E%A7%E5%AF%B9%E6%8E%A5%E6%8E%A5%E5%8F%A3"}},[t._v("4.1.查询查控对接接口")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#4.2.%E6%96%87%E4%B9%A6%E5%AE%9E%E4%BE%8B%E6%8E%A8%E9%80%81%E6%95%B0%E6%8D%AE%E7%BB%99%E6%96%87%E4%B9%A6%E6%9C%8D%E5%8A%A1"}},[t._v("4.2.文书实例推送数据给文书服务")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#5.%E9%99%84%E5%BD%95"}},[t._v("5.附录")])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_1-需求分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-需求分析"}},[t._v("#")]),t._v(" 1.需求分析")]),t._v(" "),s("h3",{attrs:{id:"_1-1-需求概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-需求概述"}},[t._v("#")]),t._v(" 1.1.需求概述")]),t._v(" "),s("p",[t._v("纪委监委收到反映同一人的问题线索还是比较多的，针对同一个人的多个问题线索，在线索处置或办理过程中会进行合并办理，综合分析研判，给予处分结论。")]),t._v(" "),s("p",[t._v("反映同一个人（线下基本通过姓名职务判断是不是同一个人）的线索，根据判断，进行合并办理，合并一般是合并个人信息和问题摘要，在办理方案里会标明有合并线索。正常会将办理结果同步一份给被合并的线索，以后通过任一个线索都能查到办理结果；")]),t._v(" "),s("ul",[s("li",[t._v("对于合并的线索，入卷的时候只有一个，统计是按多个线索来统计；")]),t._v(" "),s("li",[t._v("承办室一般从案管收到的是几条线索，向上反馈的时候也是几条；")]),t._v(" "),s("li",[t._v("合并后可以允许再次合并；")]),t._v(" "),s("li",[t._v("跨阶段的合并场景不多，一般都是在处置前合并。")])]),t._v(" "),s("h3",{attrs:{id:"_1-2-合并规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-合并规则"}},[t._v("#")]),t._v(" 1.2.合并规则")]),t._v(" "),s("ul",[s("li",[t._v("合并方式为线索1,线索2合并成线索3，其中合并后线索3作为一个虚拟线索存在。新线索3信息显示1和2的综合信息。")]),t._v(" "),s("li",[t._v("合并成功后原待合并线索不显示在办理中，只显示合并后的线索，新线索前面显示合并图标")]),t._v(" "),s("li",[t._v("具体线索字段合并规则可参考《字段合并规则（谈话函询初核合并）20200315 .xlsx》")]),t._v(" "),s("li",[t._v("文书材料合并：按阶段合并到一块，形式上合，不做内容上合并")]),t._v(" "),s("li",[t._v("合并后新线索的时限取待合并线索中分配承办人最早记录的值，合并原所有线索的时限与新线索的时限统一保持一致。")]),t._v(" "),s("li",[t._v("合并后的线索与正常线索一样允许被其他线索合并；")]),t._v(" "),s("li",[t._v("线索合并后不能进行拆分；")]),t._v(" "),s("li",[t._v("卷宗：合并的线索办结后，卷宗算一个（目前暂不考虑）")]),t._v(" "),s("li",[t._v("查询统计：线索合并后需要满足按其中任一个线索都能查询统计到。")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-其他需求点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-其他需求点"}},[t._v("#")]),t._v(" 1.3.其他需求点")]),t._v(" "),s("ul",[s("li",[t._v("嵌入的组件摘要编辑框，取消置灰")]),t._v(" "),s("li",[t._v("不考虑跨办理阶段的线索合并，需求层面禁止跨阶段合并")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-总体设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-总体设计"}},[t._v("#")]),t._v(" 2.总体设计")]),t._v(" "),s("h3",{attrs:{id:"_2-1-设计清单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-设计清单"}},[t._v("#")]),t._v(" 2.1.设计清单")]),t._v(" "),s("h4",{attrs:{id:"_2-1-1-谈话、函询、初核线索合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-谈话、函询、初核线索合并"}},[t._v("#")]),t._v(" 2.1.1.谈话、函询、初核线索合并")]),t._v(" "),s("ul",[s("li",[t._v("合并范围参照\n"),s("ul",[s("li",[t._v("谈话函询阶段，相关数据表\n"),s("ul",[s("li",[t._v("schema：public\n"),s("ul",[s("li",[t._v("问题线索：t_zhba_thhx")])]),t._v(" "),s("blockquote",[s("p",[t._v("取主线索记录，复制后生成新c_bh，更新c_sfhb=1")])]),t._v(" "),s("ul",[s("li",[t._v("被举报人：t_zhba_thhx_bjbr")])]),t._v(" "),s("blockquote",[s("p",[t._v("被举报人/单位，取主线索记录，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh")]),t._v(" "),s("blockquote",[s("p",[t._v("涉案人员直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh")])])]),t._v(" "),s("ul",[s("li",[t._v("举报人：t_zhba_jbr")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("办理结论：t_zhba_thhx_jl")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh，更新c_bjbrbh对应t_zhba_thhx_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("线索摘要：t_zhba_xszy")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh，更新c_bjbrbh对应t_zhba_thhx_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("违纪违法：t_zhba_wjwf")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx.c_bh，更新c_bjbrbh对应t_zhba_thhx_bjbr.c_bh，更新c_xszybh对应t_zhba_xszy.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("家庭成员：t_jtcyxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_bh_bjbr对应t_zhba_thhx_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("历次任职：t_lcrzxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_bh_bjbr对应t_zhba_thhx_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("谈话情况：t_zhba_thhx_th")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_thhxbh对应t_zhba_thhx.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("函询情况：t_zhba_thhx_hx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_thhxbh对应t_zhba_thhx.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("函询书面说明：复制后生成新c_bh，t_zhba_thhx_hxsmsm")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_thhxbh对应t_zhba_thhx.c_bh，更新c_hxbh对应t_zhba_thhx_hx.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("纪律检查建议：t_zhba_jljcjcjy")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按纪律合并，更新c_ajbh")])]),t._v(" "),s("ul",[s("li",[t._v("问责对象信息：t_zhba_wzdxxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_thhx")]),t._v(" "),s("blockquote",[s("p",[t._v("c_bjbrbh!=null且c_glbjbr=null，更新c_bjbrbh对应t_zhba_thhx_bjbr.c_bh")]),t._v(" "),s("blockquote",[s("p",[t._v("c_bjbrbh=null且c_glbjbr!=null，更新c_glbjbr对应t_zhba_thhx_bjbr.c_bh")])])])]),t._v(" "),s("ul",[s("li",[t._v("纸质文书及材料信息：t_attachment、t_attachment_detail")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并")]),t._v(" "),s("blockquote",[s("p",[t._v("t_attachment复制后生成c_bh，更新c_ajbh、c_ywbh，分别对应t_zhba_thhx.c_bh和对应子业务表的主键")]),t._v(" "),s("blockquote",[s("p",[t._v("t_attachment_detail复制后生成c_bh，更新c_bh_attachment对应t_attachment.c_bh")])])])]),t._v(" "),s("ul",[s("li",[t._v("文书：t_wssl")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh、c_ywbh，分别对应t_zhba_thhx.c_bh和业务模块主键")]),t._v(" "),s("blockquote",[s("p",[t._v("推送数据，通知文书服务同步复制文书")])])]),t._v(" "),s("ul",[s("li",[t._v("审批：t_zhba_sp")])]),t._v(" "),s("blockquote",[s("p",[t._v("文书审批挂接案件，对应审批不需要更新")]),t._v(" "),s("blockquote",[s("p",[t._v("更新c_tqnr对应t_wssl.c_bh")])])]),t._v(" "),s("ul",[s("li",[t._v("调查措施")])]),t._v(" "),s("blockquote",[s("p",[t._v("在调查措施嵌入url增加传参，hbbhs（合并编号）")]),t._v(" "),s("blockquote",[s("p",[t._v("hbbhs通过sql递归查出所有合并前的所有线索编号，用“;”拼接")])])]),t._v(" "),s("ul",[s("li",[t._v("分配承办人：t_zhba_cbr_ba")])]),t._v(" "),s("blockquote",[s("p",[t._v("合并后的新线索，默认分配原线索的承办人")])])])])]),t._v(" "),s("li",[t._v("初步核实阶段，相关数据表\n"),s("ul",[s("li",[t._v("schema：public\n"),s("ul",[s("li",[t._v("问题线索：t_zhba_cbhs")])]),t._v(" "),s("blockquote",[s("p",[t._v("取主线索记录，复制后生成新c_bh，更新c_sfhb=1")])]),t._v(" "),s("ul",[s("li",[t._v("被举报人：t_cbhs_bjbr")])]),t._v(" "),s("blockquote",[s("p",[t._v("被举报人/单位，取主线索记录，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh")]),t._v(" "),s("blockquote",[s("p",[t._v("涉案人员直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh")])])]),t._v(" "),s("ul",[s("li",[t._v("举报人：t_jbr")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("办理结论：t_zhba_cbhs_jl")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh，更新c_bjbrbh对应t_zhba_chbs_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("线索摘要：t_zhba_xszy")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh，更新c_bjbrbh对应t_zhba_chbs_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("违纪违法：t_zhba_wjwf")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh，更新c_bjbrbh对应t_zhba_chbs_bjbr.c_bh，更新c_xszybh对应t_zhba_xszy.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("家庭成员：t_jtcyxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_bh_bjbr对应t_zhba_chbs_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("历次任职：t_lcrzxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_bh_bjbr对应t_zhba_chbs_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("初步核实情况：t_zhba_cbhs_cbhsqk")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs.c_bh，更新c_bjbrbh对应t_zhba_chbs_bjbr.c_bh")])]),t._v(" "),s("ul",[s("li",[t._v("纪律检查建议：t_zhba_jljcjcjy")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按纪律合并，更新c_ajbh")])]),t._v(" "),s("ul",[s("li",[t._v("问责对象信息：t_zhba_wzdxxx")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh对应t_zhba_chbs")]),t._v(" "),s("blockquote",[s("p",[t._v("c_bjbrbh!=null且c_glbjbr=null，更新c_bjbrbh对应t_zhba_chbs_bjbr.c_bh")]),t._v(" "),s("blockquote",[s("p",[t._v("c_bjbrbh=null且c_glbjbr!=null，更新c_glbjbr对应t_zhba_chbs_bjbr.c_bh")])])])]),t._v(" "),s("ul",[s("li",[t._v("纸质文书及材料信息：t_attachment、t_attachment_detail")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并")]),t._v(" "),s("blockquote",[s("p",[t._v("t_attachment复制后生成c_bh，更新c_ajbh、c_ywbh，分别对应t_zhba_thhx.c_bh和对应子业务表的主键")]),t._v(" "),s("blockquote",[s("p",[t._v("t_attachment_detail复制后生成c_bh，更新c_bh_attachment对应t_attachment.c_bh")])])])]),t._v(" "),s("ul",[s("li",[t._v("文书：t_wssl")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接按记录合并，复制后生成新c_bh，更新c_ajbh、c_ywbh，分别对应t_zhba_thhx.c_bh和业务模块主键")]),t._v(" "),s("blockquote",[s("p",[t._v("推送数据，通知文书服务同步复制文书")])])]),t._v(" "),s("ul",[s("li",[t._v("审批：t_zhba_sp")])]),t._v(" "),s("blockquote",[s("p",[t._v("文书审批挂接案件，对应审批不需要更新")]),t._v(" "),s("blockquote",[s("p",[t._v("更新c_tqnr对应t_wssl.c_bh")])])]),t._v(" "),s("ul",[s("li",[t._v("调查措施")])]),t._v(" "),s("blockquote",[s("p",[t._v("在调查措施嵌入url增加传参，hbbhs（合并编号）")]),t._v(" "),s("blockquote",[s("p",[t._v("hbbhs通过sql递归查出所有合并前的所有线索编号，用“;”拼接")])])]),t._v(" "),s("ul",[s("li",[t._v("分配承办人：t_zhba_cbr_ba")])]),t._v(" "),s("blockquote",[s("p",[t._v("合并后的新线索，默认分配原线索的承办人")])])])])])])]),t._v(" "),s("li",[t._v("线索合并规则\n"),s("ul",[s("li",[t._v("只有承办人完全一致才可合并\n"),s("ul",[s("li",[t._v("当前阶段承办人，在t_zhba_cbr_ba表中记录的所属承办人id一致，即视为可合并")]),t._v(" "),s("li",[t._v("合并后在t_zhba_cbr_ba表中新增合并线索承办人")]),t._v(" "),s("li",[t._v("通知分配承办人服务，为新增合并线索分配承办人，承办人为被合并线索的承办人")])])]),t._v(" "),s("li",[t._v("合并后新线索的“问题线索基本信息、被反映人信息、当前办理阶段信息”将会覆盖，取值为主线索对应信息。\n"),s("ul",[s("li",[t._v("取主线索记录，通过springframework的BeanUtils.copyProperties()复制JavaBean")])])]),t._v(" "),s("li",[t._v("合并后新线索的“谈话编号、函询编号、初核编号”取值为主线索对应编号。")]),t._v(" "),s("li",[t._v("合并后新线索的“问题线索摘要、文书、材料”显示所有待合并线索的的合集。\n"),s("ul",[s("li",[s("p",[t._v("线索摘要：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  线索摘要绑定被举报人，复制合并后更新t_zhba_xszy.c_bjbrbh\n\n  同步复制更新关联字段：\n  表关系：\n      1. wtxs -> bjbr(c_ajbh) -> xszy(c_xsbh) -> wjwf(c_xszybh)\n      2. thhx -> bjbr(c_ajbh) -> thhx_jl(c_bjbrbh) -> xszy(c_xsbh) -> wjwf(c_xszybh)\n      3. cbhs -> bjbr(c_ajbh) -> cbhs_cbhsqk(c_bjbrbh) -> xszy(c_xsbh) -> wjwf(c_xszybh)\n      4. lasc -> bdcr(c_ajbh) -> xszy(c_xsbh) -> wjwf(c_xszybh)\n\n\n  bjbr表:复制后生成新c_bh，更新c_ajbh对应wtxs表\n  xszy表：复制后生成新c_bh，更新c_bjbrbh对应bjbr表，更新c_xsbh对应wtxs表\n  jl表：复制后生成新c_bh，更新c_ajbh对应wtxs表，更新c_xszybh对应xszy表\n  wjwf表：复制后生成新c_bh，更新c_ajbh对应wtxs表，更新c_bjbrbh对应bjbr表，更新c_xszybh对应xszy表\n")])])])]),t._v(" "),s("li",[s("p",[t._v("文书：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  文书绑定问题线索，复制合并后更新t_wssl.c_ajbh和t_wssl.c_ywbh\n")])])])]),t._v(" "),s("li",[s("p",[t._v("附件：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  附件绑定问题线索或子模块业务，复制合并后更新t_attachment.c_ajbh、t_attachment.c_ywbh、t_attachment.c_bh\n  同步复制更新关联字段：t_attachment->t_attachment_detail\n  attachment表：生成新c_bh，更新c_ajbh、c_ywbh，分别对应问题线索编号、附件所属模块业务编号\n  attachment_detail表：生成新c_bh，更新c_bh_attahment\n")])])])])])]),t._v(" "),s("li",[t._v("合并后新线索的所有前置办理环节的信息会全部保留，显示所有待合并线索的合集。")]),t._v(" "),s("li",[t._v("合并后新线索生成一个新的“问题线索编号”，编号前面会显示一个“合”的图标。\n"),s("ul",[s("li",[t._v('通过c_sfhb字段控制展示，该字段在合并生成新线索时插入"1"(是)，该字段需要跟随线索流转')])])]),t._v(" "),s("li",[t._v("具体参考《字段合并规则-20200329.xlsx》")]),t._v(" "),s("li",[t._v("具体校验设计参考"),s("a",{attrs:{href:"#2.2.%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1"}},[t._v("2.2.功能设计")])]),t._v(" "),s("li",[t._v("合并后的新线索，开启新的时限")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-1-2-办理中转办（预留）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-办理中转办（预留）"}},[t._v("#")]),t._v(" 2.1.2.办理中转办（预留）")]),t._v(" "),s("ul",[s("li",[t._v("考虑复用派驻案管转办调用的接口")])]),t._v(" "),s("h4",{attrs:{id:"_2-1-3-变更处置方式（预留）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-变更处置方式（预留）"}},[t._v("#")]),t._v(" 2.1.3.变更处置方式（预留）")]),t._v(" "),s("ul",[s("li",[t._v("重新设计变更处置方式表，添加增量设计")])]),t._v(" "),s("h3",{attrs:{id:"_2-2-功能设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-功能设计"}},[t._v("#")]),t._v(" 2.2.功能设计")]),t._v(" "),s("blockquote",[s("p",[t._v("线索合并，触发在a5，合并操作在api")])]),t._v(" "),s("ul",[s("li",[t._v("接口及实现类")])]),t._v(" "),s("div",{staticClass:"language-mermaid extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("classDiagram\n    class IMergeWtxs\n    <<Interface>>IMergeWtxs\n\n    IMergeWtxs:+mergeWtxs\n    IMergeWtxs:+mergeWssl\n    IMergeWtxs:+mergeAttachment\n\n    IMergeWtxs<|..ThhxMergeWtxsImpl: implements\n    IMergeWtxs<|..CbhsMergeWtxsImpl: implements\n\n    ThhxMergeWtxsImpl:+mergeWtxs()\n    ThhxMergeWtxsImpl:+mergeWssl()\n    ThhxMergeWtxsImpl:+mergeAttachment()\n\n    CbhsMergeWtxsImpl:+mergeWtxs()\n    CbhsMergeWtxsImpl:+mergeWssl()\n    CbhsMergeWtxsImpl:+mergeAttachment()\n\n\n    class MergeUtils\n    <<UtilityClass>>MergeUtils\n\n    MergeUtils<..ThhxMergeWtxsImpl\n    MergeUtils<..CbhsMergeWtxsImpl\n\n    MergeUtils:+updateNewWtxs()\n    MergeUtils:+updateNewWssl()\n    MergeUtils:+updateNewAttachment()\n")])])]),s("ul",[s("li",[s("p",[t._v("根据案件类别（ajlb）区分谈话函询、初步核实")]),t._v(" "),s("ul",[s("li",[t._v("谈话函询：302")]),t._v(" "),s("li",[t._v("初步核实：303")])])]),t._v(" "),s("li",[s("p",[t._v("线索合并页面")]),t._v(" "),s("ul",[s("li",[t._v("参照办案页面")]),t._v(" "),s("li",[t._v("待合并列表查询\n"),s("ul",[s("li",[t._v("需求层面禁止了跨办理阶段的合并，默认都在同办理阶段合并")]),t._v(" "),s("li",[t._v("通过姓名+职务（group by）且count（姓名）>1，过滤出结果集，再按分配承办人日期降序排列")])])]),t._v(" "),s("li",[t._v("合并校验提示参考需求文档")])])]),t._v(" "),s("li",[s("p",[t._v("合并前置校验")]),t._v(" "),s("ul",[s("li",[t._v("派驻执纪接口类：ICheckBeforeMerge\n"),s("ul",[s("li",[s("p",[t._v("谈话函询校验类：ThhxCheckBeforeMergeImpl")])]),t._v(" "),s("li",[s("p",[t._v("初步核实校验类：CbhsCheckBeforeMergeImpl")])]),t._v(" "),s("li",[s("p",[t._v("接口方法：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  校验提示：\n                  public String checkResult(String ajbh){\n                      StingBuilder.append(checkCbrResult);\n                      StingBuilder.append(checkSpResult);\n                  }\n  校验承办人：    public String checkCbr(String ajbh)\n  校验审批：      public String checkSp(String ywbh)\n")])])])])])])])]),t._v(" "),s("li",[s("p",[t._v("线索合并")]),t._v(" "),s("ul",[s("li",[t._v("派驻执纪接口类：IMergeWtxs"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IMergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    *线索合并\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    *文书合并\n    *1.无子业务直接更新ajbh\n    *2.有子业务，除了更新ajbh之外，还要更新对应ywbh\n    *3.合并后的通知文书服务复制文书\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    *附件合并\n    *1.无子业务直接更新ajbh\n    *2.有子业务，除了更新ajbh之外，还要更新对应ywbh\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("谈话函询线索合并：ThhxMergeWtxsImpl")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThhxMergeWtxsImpl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IMergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n        *更新谈话函询阶段独有数据表\n        */")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updataNewThhx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InsertTZhbaXshb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startTimeLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("初步核实线索合并：CbhsMergeWtxsImpl")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CbhsMergeWtxsImpl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IMergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n        *更新初步核实阶段独有数据表\n        */")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updataNewThhx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InsertTZhbaXshb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startTimeLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ajbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryAndCopyTableDatas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[t._v("派驻案管接口类：IMergeWtxs\n"),s("ul",[s("li",[t._v("线索管理阶段合并：MergeWtxsImpl")])])]),t._v(" "),s("li",[t._v("公共方法提取"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@UtilityClass")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MergeUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("线索主表及相关表合并,查询后复制更新处理")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n*针对更新逻辑相同的几张表：\n*1.t_zhba_jbr\n*2.t_zhba_xszy\n*3.t_zhba_wjwf\n*4.t_zhba_wzdxxx\n*5.t_jtcyxx\n*6.t_lcrzxx\n*@Param map 原编号s和新编号s\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWtxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateJbr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateXszy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateWjwf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateWzdxxx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateJtcyxx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateLcrzxx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateJljcjcjy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("文书合并，查询后复制更新处理")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateWssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    *调用文书接口，合并文书\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("noticeZnws")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("附件合并,查询后复制更新处理")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNewAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAttachment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAttachmentDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[t._v("合并操作需要同步插入t_zhba_xshb")])])]),t._v(" "),s("li",[s("p",[t._v("调查措施参数递归查询")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" RECURSIVE temp_xshb "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n\tc_yajbh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tc_xajbh\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n\tt_zhba_xshb xshb\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v("\n\tc_xajbh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#{ xajbh,")]),t._v("\n\tjdbcType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),t._v(" }\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALL")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n\t\txshb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c_yajbh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\txshb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c_xajbh\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n\t\tt_zhba_xshb xshb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\ttemp_xshb\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v("\n\t\txshb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c_xajbh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" temp_xshb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c_yajbh\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\nc_yajbh\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\ntemp_xshb\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ORDER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v("\nc_xajbh\n")])])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_3-数据库设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据库设计"}},[t._v("#")]),t._v(" 3.数据库设计")]),t._v(" "),s("h3",{attrs:{id:"_3-1-ddl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ddl"}},[t._v("#")]),t._v(" 3.1.DDL")]),t._v(" "),s("h4",{attrs:{id:"_3-1-1-public-t-zhba-xshb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-public-t-zhba-xshb"}},[t._v("#")]),t._v(" 3.1.1.public.t_zhba_xshb")]),t._v(" "),s("blockquote",[s("p",[t._v("新增线索合并表，用于详情查询合并前的案件阶段信息")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("字段注释")]),t._v(" "),s("th",[t._v("字段类型/字段长度")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否主键")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否外键")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("c_bh")]),t._v(" "),s("td",[t._v("主键")]),t._v(" "),s("td",[t._v("varchar(32)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_yajbh")]),t._v(" "),s("td",[t._v("原案件编号")]),t._v(" "),s("td",[t._v("varchar(32)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",[t._v("c_xajbh")]),t._v(" "),s("td",[t._v("新案件编号")]),t._v(" "),s("td",[t._v("varchar(32)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",[t._v("c_yxsh")]),t._v(" "),s("td",[t._v("原线索号")]),t._v(" "),s("td",[t._v("varchar(300)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_xxsh")]),t._v(" "),s("td",[t._v("新线索号")]),t._v(" "),s("td",[t._v("varchar(300)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_yajbs")]),t._v(" "),s("td",[t._v("原案件标识")]),t._v(" "),s("td",[t._v("varchar(32)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_xajbs")]),t._v(" "),s("td",[t._v("新案件标识")]),t._v(" "),s("td",[t._v("varchar(32)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_yajlb")]),t._v(" "),s("td",[t._v("原案件类别")]),t._v(" "),s("td",[t._v("varchar(100)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_xajlb")]),t._v(" "),s("td",[t._v("新案件类别")]),t._v(" "),s("td",[t._v("varchar(100)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_czr")]),t._v(" "),s("td",[t._v("操作人")]),t._v(" "),s("td",[t._v("varchar(300)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("dt_cjsj")]),t._v(" "),s("td",[t._v("创建时间")]),t._v(" "),s("td",[t._v("timestamp(6)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("dt_zhgxsj")]),t._v(" "),s("td",[t._v("最后更新时间")]),t._v(" "),s("td",[t._v("timestamp(6)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_major")]),t._v(" "),s("td",[t._v('是否为主线索, "1"为主线索')]),t._v(" "),s("td",[t._v("varchar(100)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("c_thhx")]),t._v(" "),s("td",[t._v("2：谈话，3：函询")]),t._v(" "),s("td",[t._v("varchar(100)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),s("h3",{attrs:{id:"_3-2-dml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-dml"}},[t._v("#")]),t._v(" 3.2.DML")]),t._v(" "),s("h4",{attrs:{id:"_3-2-1-public-t-zhba-wtxs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-public-t-zhba-wtxs"}},[t._v("#")]),t._v(" 3.2.1.public.t_zhba_wtxs")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("字段注释")]),t._v(" "),s("th",[t._v("字段类型/字段长度")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否主键")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否外键")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("c_sfhb")]),t._v(" "),s("td",[t._v("是否合并，用于列表“合”字展示等的标记")]),t._v(" "),s("td",[t._v("varchar(100)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_4-接口设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-接口设计"}},[t._v("#")]),t._v(" 4.接口设计")]),t._v(" "),s("h3",{attrs:{id:"_4-1-查询查控对接接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-查询查控对接接口"}},[t._v("#")]),t._v(" 4.1.查询查控对接接口")]),t._v(" "),s("blockquote",[s("p",[t._v("接口说明：获取该线索是否使用了查询或者冻结措施，沿用办案的对接方式")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Request")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  POST    http://ip:port/api/v1/getCxckZt/{Xsh}\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("参数说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否必填")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Xsh")]),t._v(" "),s("td",[t._v("谈话或者初步核实编号")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])])])])])]),t._v(" "),s("h3",{attrs:{id:"_4-2-文书实例推送数据给文书服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-文书实例推送数据给文书服务"}},[t._v("#")]),t._v(" 4.2.文书实例推送数据给文书服务")]),t._v(" "),s("blockquote",[s("p",[t._v("接口说明：合并文书时，通知文书生成对应复制的文书")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Request")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  POST http://ip:port//api/v1/wsslCopy\n")])])]),s("ul",[s("li",[t._v("请求体")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ywsid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"原文书id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"xwsid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"新文书id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ajbh"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"新业务编号"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("参数说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("是否必填")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ywsid")]),t._v(" "),s("td",[t._v("原文书id")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",[t._v("xwsid")]),t._v(" "),s("td",[t._v("新文书id")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",[t._v("ajbh")]),t._v(" "),s("td",[t._v("新业务编号")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是")])])])])])]),t._v(" "),s("h3",{attrs:{id:"_4-3-触发合并接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-触发合并接口"}},[t._v("#")]),t._v(" 4.3.触发合并接口")]),t._v(" "),s("blockquote",[s("p",[t._v("接口说明：具体合并操作走api后台，a5只做触发")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Request")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  POST http://ip:port//api/wtxshb/v1/xshb\n")])])]),s("ul",[s("li",[t._v("请求体")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ajjd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"302"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    “zajbh"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("uuid"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v('"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hbbhList"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HbRequestData")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    * 案件阶段\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" ajjd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    *主案件编号\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" zajbh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    * 合并编号列表\n    */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" hbbhList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_5-附录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-附录"}},[t._v("#")]),t._v(" 5.附录")])])}),[],!1,null,null,null);a.default=e.exports}}]);